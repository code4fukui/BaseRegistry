# 行政基本情報データ連携モデル 日付及び時刻

- 行政基本情報データ連携モデル
- 標準ガイドライン群ID：1015-1
- 2021-06-04

円滑なデータ連携を行うには、データが共通の形式で整えられていることが必要である。本書は政府情報システムを対象に、日付及び時刻のデータ形式について示すものである。

日付及び時刻のデータは、[ISO8601](https://www.iso.org/iso-8601-date-and-time-format.html)及び[JIS X 0301](https://www.jisc.go.jp/app/jis/general/GnrJISNumberNameSearchList?show&jisStdNo=X0301)（日付及び時刻の表記）に準拠し、以下のとおりとする。（ただし、高速処理が必要な場合等、特段の事情がある場合には、独自形式を採用する場合もある）

## 1. 日付及び曜日

### 1.1 日付

日付のデータは以下の形式とする。半角を使用する。

- YYYY-MM-DD
    - YYYY：西暦年4桁
    - MM  ：月2桁（1桁の場合には前に0をつける）
    - DD  ：日2桁（1桁の場合には前に0をつける）
- 例）2017-09-01

### 1.2 曜日

- 曜日のコード及びデータは、以下のとおりとする。

|コード及びデータ|曜日|
|-|-|
|1|月曜日|
|2|火曜日|
|3|水曜日|
|4|木曜日|
|5|金曜日|
|6|土曜日|
|7|日曜日|

- 「曜日」を省略し「月曜日」を「月」と記入してもよい。
- 列挙する場合には、月曜日から順に記入し、「曜日」はデータに含まない。

- 例）12345
    - 月火水木金

### 1.3 特定日、繰り返し

- 週の特定日や定期的に繰り返し行うスケジュールは、自由記述とする。ただし、コードで表す場合には以下の書式に従うこととする。
    - 曜日はMo,Tu,We,Th,Fr,Sa,Suで表す
    - 毎週は0、第何週は1-5、最終は6、隔週は7で表す

例）
|スケジュール|コード|
|-|-|
|毎週水曜日|0We|
|第1,3月曜日|13Mo|
|第1,4火曜日と第4木曜日|14Tu4Th|
|最終金曜日|6Fr|
|隔週日曜日|7Su|

## 2. 時刻

- 時刻のデータは、以下の形式とする。
    - HH:MM:SS　（秒は省略可能）
    - HH  ：時間（24時間表記。1桁の場合には前に0をつける）
    - MM  ：分（1桁の場合には前に0をつける）
    - SS  ：秒（1桁の場合には前に0をつける）
- 1秒未満の時刻を必要とする場合においては、業務等の特性や要件に従い、小数表記をする。このような表記を含むデータを提供する際は、小数点以下の桁数等、データ形式情報を提供することを推奨する。

## 3. 日付と時刻の組合せ

日付と時刻は、「日付」と「時刻」の2つのデータ項目で設定することが望ましい。

日付と時刻を1つのデータ項目で持つ場合には、国際標準に従い日付と時刻の間を「T」で接続して表現する。グローバルにデータ連携をする場合は、必要に応じてUTC（協定世界時）と地方時の時差を表記する。具体的には、UTC（協定世界時）に対して地方時が進んでいる場合は「+」、遅れている場合は「-」記号を用い、以下の例のように表現する。なお、時差のない場合には「=+」とする。

- YYYY-MM-DDTHH:MM:SS+hh:mm
    - hh  ：UTCに対して進んでいる「時」
    - mm  ：UTCに対して進んでいる「分」（通常は00）
- 例）2017-09-01T09:30:00+09:00　（日本）
- 例）2017-09-01T00:30:00=+    　（英国）

## 4. 期間

期間は、「開始日」、「終了日」と「開始時刻」、「終了時刻」の4つのデータ項目で設定することが望ましい。

期間を1つのデータ項目で持つ場合には、国際標準に従い以下のとおりとする。

### 4.1 基本構造

期間の開始日時と終了日時を「/」でつないで、「開始日時/終了日時」とし、次のとおりとする。

- YYYY-MM-DD/YYYY-MM-DD

### 4.2 時刻を含む場合

期間に時刻を含む場合は、「３　日付と時刻の組合せ」の方法を組み合わせて、次のとおりとする。

- YYYY-MM-DDTHH:MM:SS+hh:mm/YYYY-MM-DDTHH:MM:SS+hh:mm

### 4.3 年が同一の場合

期間の年が同一の場合は、年の部分を省略して、次のとおりとする。

- YYYY-MM-DD/MM-DD

### 4.4 月まで同一の場合

期間の年及び月が同一の場合は、年及び月の部分を省略して、次のとおりとする。

- YYYY-MM-DD/DD

### 4.5 継続、所要時間

継続時間（経過時間）や所要時間を記述する場合には、次のとおりとする。

- hh:mm

## 5. 時間帯等コード

利用時間、配送時間等を表す際に、時間帯や凡その目標時間を示す場合がある。そのような場合は、時間帯や目標時間について以下のようなコードと時刻表記で表すものとする。

### 5.1 時間帯

0時を起点として1時間区切りでコードを定める。

|コード|時間帯|
|00|00:00/01:00|
|01|01:00/02:00|
|02|02:00/03:00|
|03|03:00/04:00|
|04|04:00/05:00|
|05|05:00/06:00|
|06|06:00/07:00|
|07|07:00/08:00|
|08|08:00/09:00|
|09|09:00/10:00|
|10|10:00/11:00|
|11|11:00/12:00|
|12|12:00/13:00|
|13|13:00/14:00|
|14|14:00/15:00|
|15|15:00/16:00|
|16|16:00/17:00|
|17|17:00/18:00|
|18|18:00/19:00|
|19|19:00/20:00|
|20|20:00/21:00|
|21|21:00/22:00|
|22|22:00/23:00|
|23|23:00/24:00|
|99|不明・未定|

複数のコードを記載する場合は「,」（カンマ）で区切る。

時間帯の時刻表記は以下の書式とする。

- HH:MM/HH:MM（開始時間/終了時間）

- 例）9時～12時を表す場合
    - コード表記：09,10,11
    - 時刻表記：09:00/12:00

### 5.2 目標時間

0時を起点として1時間区切りのコードを定める。

|コード|目標時間|
|00|00:00|
|01|01:00|
|02|02:00|
|03|03:00|
|04|04:00|
|05|05:00|
|06|06:00|
|07|07:00|
|08|08:00|
|09|09:00|
|10|10:00|
|11|11:00|
|12|12:00|
|13|13:00|
|14|14:00|
|15|15:00|
|16|16:00|
|17|17:00|
|18|18:00|
|19|19:00|
|20|20:00|
|21|21:00|
|22|22:00|
|23|23:00|
|99|不明・未定|

「～時頃」のように示される目標時間は、前後に幅を持たせる時間の表記方法である。前後30分、前後15分等、個々に持たせる幅は異なるため、目標時間を定義する際に、その旨補足すること。

## 6. 月、季節、旬コード

イベント等の時期を月や季節、旬で示す場合がある。そのような場合は、季節や旬について以下のようなコードと季節及び旬の表記で表すものとする。

### 6.1 月コード

時期等が不明で、月で時期を示したいときに、月名を2桁半角数字（1桁の場合には前に0をつける）で記入する。

### 6.2 季節コード

時期等が未定で、月ではなく季節で示したい場合等、以下のコードと季節で時期を示す。

|コード|季節|
|-|-|
|10|春|
|11|初春|
|12|仲春|
|13|晩春|
|20|夏|
|21|初夏|
|22|仲夏|
|23|晩夏|
|30|秋|
|31|初秋|
|32|仲秋|
|33|晩秋|
|40|冬|
|41|初冬|
|42|仲冬|
|43|晩冬|

### 6.3 旬コード

月内の日時が未定で、凡その時期を示したい場合等、以下のコードと旬で時期を示す。

|コード|旬|
|-|-|
|10|上旬|
|20|中旬|
|30|下旬|
|99|不明・未定|

「10日頃」等の目標日時がある場合には、別途、目標日のデータ項目を設定することが望ましい。

## 7. 特記事項

日付及び時刻に関して、「金曜日は17時まで」等の特記事項を記載する場合には、上記のデータ項目内に記述するのではなく「備考」のデータ項目を付加し対応する。

また、うるう秒の扱いは、情報機器やオペレーティングシステムの仕様に依存するため、うるう秒挿入時のログ分析等を行う際には留意すること。

「３　日付と時刻の組み合わせ」において、時差表記部分（+もしくは-以降）を一般的に使われる「hh:mm」としているが、必要に応じて「hh:mm:ss」としてよい。

## 8. 解説

### 8.1 拡張形式の適用

ISO8601では、日付及び時刻の表記に基本形式と拡張形式がある。基本形式は、YYYYMMDDTHHMM+hhmmであり、視認性が悪いため、日付にハイフン、時刻にコロンを使用する拡張形式を使用する。

### 8.2 年月日の表記

国内では、年月日を記載する際に「YYYY年MM月DD日」又は「YYYY/MM/DD」と記載することが一般的であるが、システム内やグローバルなデータ連携では国際標準に従い「YYYY-MM-DD」を使うことが多い。本標準はデータ連携用標準であることから、「YYYY-MM-DD」を採用した。

### 8.3 和暦との変換

入力や表示・印字において和暦年を使う場合には、入力時には入力データを和暦から西暦へ変換し、データは西暦で管理する。逆に出力時には西暦から和暦へ変換して表示する。同様に、入力や表示・印字において12時間制を使う場合には、データは24時間制で管理し、入出力時に変換する。

- 例：入力［平成27年］→システム内［2015］
- システム内［2015］→出力［平成27年］
